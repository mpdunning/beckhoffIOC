# This template is for an analog output device (DAC).
#----------------------------------------------------------
record( longin, "$(P):LI:$(MOD):SB$(N)"){
  field( DESC, "$(DESC)")
  field( DTYP, "asynUInt32Digital")
  field( INP,  "@asynMask($(PORT) $(OFF1) 0xffff)")
  field( SCAN, "I/O Intr")
}
record( ao, "$(P):AO:PC:$(MOD):CH$(N)"){
  field( DESC, "$(DESC)")
  field( DTYP, "Soft Channel")
  field( EGU,  "%")
  field( LOPR, "0")
  field( HOPR, "100")
  field( PREC, "0")
  field( FLNK, "$(P):CALC:$(MOD):CH$(N)")
}
record( calc, "$(P):CALC:$(MOD):CH$(N)"){
  field( DESC, "% to V")
  field( CALC, "A*0.1")
  field( INPA, "$(P):AO:PC:$(MOD):CH$(N)")
  field( FLNK, "$(P):AO:PC:SC:$(MOD):CH$(N)")
}
record( ao, "$(P):AO:PC:SC:$(MOD):CH$(N)"){
  field( DOL,  "$(P):CALC:$(MOD):CH$(N) NPP")
  field( DISV, "1")
  field( SDIS, "$(P):AO:PC:$(MOD):CH$(N):Sync.PACT")
  field( OMSL, "closed_loop")
  field( OUT,  "$(P):AO:SC:$(MOD):CH$(N) PP")
}
record( ao, "$(P):AO:SC:$(MOD):CH$(N)"){
  field( DESC, "$(DESC):")
  field( OUT,  "$(P):AO:$(MOD):CH$(N) PP")
  field( DRVL, "$(DRVL)")
  field( DRVH, "$(DRVH)")
  field( LOPR, "$(DRVL)")
  field( HOPR, "$(DRVH)")
  field( PREC, "$(PREC)")
}
record( ao, "$(P):AO:$(MOD):CH$(N)"){
  field( SDIS, "$(P):AO:$(MOD):CH$(N):Sync.PACT")
  field( DISV, "1")
  field( DTYP, "asynInt32")
  field( OUT,  "@asynMask($(PORT)_D $(OFF2) $(NBITS))")
  field( LINR, "LINEAR")
  field( EGU,  "$(EGU)")
  field( EGUL, "$(EGUL)")
  field( EGUF, "$(EGUF)")
  field( PREC, "$(PREC)")
}
record( ai, "$(P):AI:$(MOD):CH$(N)"){
  field( DTYP, "asynInt32")
  field( INP,  "@asynMask($(PORT) $(OFF2) $(NBITS))")
  field( LINR, "LINEAR")
  field( EGU,  "$(EGU)")
  field( EGUL, "$(EGUL)")
  field( EGUF, "$(EGUF)")
  field( SCAN, "I/O Intr")
  field( FLNK, "$(P):FO:$(MOD):CH$(N)")
}
record( fanout, "$(P):FO:$(MOD):CH$(N)"){
  field( LNK1, "$(P):AO:$(MOD):CH$(N):Sync")
  field( LNK2, "$(P):CALC:PC:$(MOD):CH$(N)")
}
record( ao, "$(P):AO:$(MOD):CH$(N):Sync"){
  field( DOL,  "$(P):AI:$(MOD):CH$(N) NPP")
  field( OMSL, "closed_loop")
  field( OUT,  "$(P):AO:SC:$(MOD):CH$(N) PP")
}
record( calc,"$(P):CALC:PC:$(MOD):CH$(N)"){
  field( DESC, "V to %")
  field( CALC, "A*10.0")
  field( INPA, "$(P):AI:$(MOD):CH$(N)")
  field( FLNK, "$(P):AO:PC:$(MOD):CH$(N):Sync")
}
record( ao, "$(P):AO:PC:$(MOD):CH$(N):Sync"){
  field( DOL,  "$(P):CALC:PC:$(MOD):CH$(N) NPP")
  field( OMSL, "closed_loop")
  field( OUT,  "$(P):AO:PC:$(MOD):CH$(N) PP")
}

